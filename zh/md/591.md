# ID: 591 - 不正确锁定内存中的敏感数据存储
<h5>名称</h5>不正确锁定内存中的敏感数据存储
<h5>弱点抽象</h5>变体
<h5>状态</h5>草案
<h5>描述</h5>应用程序将敏感数据存储在未锁定或已被错误锁定的内存中，这可能导致虚拟内存管理器将内存写入磁盘上的交换文件。这可以使外部行为者更容易访问数据。
<h5>扩展描述</h5>在Windows系统上，VirtualLock函数可以锁定一页内存，以确保它仍然存在于内存中，不会被交换到磁盘上。但是，在较早版本的Windows上，例如95、98或Me，VirtualLock()函数只是存根，不提供任何保护。在POSIX系统上，mlock()调用确保页面驻留在内存中，但不保证页面不会出现在交换区中。因此，它不适合作为敏感数据的保护机制。有些平台，特别是Linux，确实保证页面不会被交换，但这是不标准的，也是不可移植的。对mlock()的调用也需要主管特权。必须检查这两个调用的返回值，以确保锁操作实际成功。
<h5>相关的弱点</h5>*性质：子女：CWE ID：413：视图ID：1000：序数：初级：自然：子女：CWE ID：413：视图ID：699：序号：主：
<h5>弱点规律</h5>空
<h5>适用的平台</h5>空
<h5>背景细节</h5>空
<h5>替代条款</h5>空
<h5>模式的介绍</h5>*阶段：执行：说明：
<h5>剥削因素</h5>空
<h5>利用的可能性</h5>空
<h5>常见的后果</h5>*范围：机密性：技术影响：读取应用程序数据读取内存：注：可公开写入交换文件的机密性读取应用程序数据、读取内存敏感数据。
<h5>检测方法</h5>空
<h5>潜在的缓解措施</h5>*阶段：需要保护的体系结构和Design：STRATEGY：：EFFECTIVENESS：：DESCRIPTION：Identify数据不被交换，并选择适当的保护mechanisms.：：PHASE：Implementation：STRATEGY：：EFFECTIVENESS：：DESCRIPTION：Check返回值，以确保锁定操作是成功的。
<h5>观察到的例子</h5>空
<h5>功能区域</h5>空
<h5>影响资源</h5>记忆：
<h5>分类法映射</h5>分类法名称：OWASP前十名2004：条目ID：A8：条目名称：不安全存储：映射匹配：CWE更具体：分类法名称：cert C安全编码：条目ID：MEM06-C：条目名称：确保敏感数据不写入磁盘：分类法名称：软件故障模式：入口ID：SFP 23：条目名称：公开数据：
<h5>相关的攻击模式</h5>空
<h5>笔记</h5>空

